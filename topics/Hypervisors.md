## Гипервизоры
***

### Общие сведения
***

*Виртуальные машины* (ВМ) представляют из себя изолированные окружения, в которых можно запускать различные операционные системы на одном физическом сервере. Это позволяет делить ресурсы сервера для нескольких служб, а так же упрощает резервное копирование и обслуживание аппаратного обеспечения. Для распределения ресурсов между  ВМ и управления ими используется гипервизор. Гипервизор представляет из себя специализированную ОС, из которой убраны все роли, кроме необходимых для поддежки работы ВМ.

Сейчас существует 4 наиболее часто используемых гипервизора - VmWare, Microsoft HyperV, Xen и KVM. VmWare занимает большую часть рынка коммерческой виртуализации. HyperV представляет их себя часть MS Windows и доступна в серверных ОС и настольных редакции Pro и более продвинутых. Xen и KVM являются частью ОС Linux. Xen более старый проект, от которого сейчас постепенно отказываются в пользу KVM. По возможностям сложно сказать, какое из упомянутых решений лучше. У кого-то лучше чисто технические характеристики, у кого-то поддержка, что-то доступно для работы без необходимости покупки лицензии. 

### HyperV
***

HyperV устанавливается как роль в Windows Server или через добавление компонентов Windows в настольных редакциях. Вместе с гипервизором ставится инструментарий для управления (модули для powershell и mmc консоль управление Hyper-V Manager). Для полноценной работы ВМ необходимо создать виртуальный сетевой коммутатор (можно сделать через установленную mmc консоль), без этого они не будут иметь выхода в сеть. Создание виртуальной машины заключается в выборе доступных её ресурсов, создании виртуального жёсткого диска и подключении ISO образа для установки ОС. В случае с Hyper-V могут быть доступны два поколения виртуальных машин - первое и второе. У второго переработаны синтетические устройства и скорость работы таких ВМ выше. Но они требуею других драйверов и не совместимы с некоторыми гостевыми ОС.

### KVM
***

Для установки KVM в debian stretch понадобится несколько пакетов: qemu-kvm libvirt-clients libvirt-daemon virt-manager. Последний используется как графиеский интерфейс для управления и в общемм случае не является необходимым. Так же, как и в windows может потребоваться создание виртуального сетевого коммутатора (мост bridge в терминологии Linux) для полноценного выхода в сеть. Для работы простейшей работы создаётся мост, позволяющий выйти в сеть использую IP адрес гипервизора и технологию NAT.



